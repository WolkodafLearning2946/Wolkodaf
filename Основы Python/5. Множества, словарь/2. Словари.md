==" dict() "== - словарь. Словарь похож на список, но вместо индексов элементов в словаре используются ключи, а по ключам в словаре хранятся значения.

> [!example]+ Пример словаря:
> ```py
> countries_and_capitals = {"Россия"  : "Москва", "США" : "Вашингтон", "Франция" : "Париж" }
> 
> print(countries_and_capitals["Россия"])
> ```
> Россия - ключ (можно использовать значения неизменяемого типа: числа, строки, кортежи)
> Москва - значение (значения могут быть любого типа данных)
> > [!abstract]+ Вывод:
> > ```py
> > Москва
> > ```

При записи значения по уже существующему ключу он создаётся заново с новым значением, а прошлый стирается:
> [!example]+ Код
> ```py
> d = {"key": "old_value"}
> 
> d["key"] = "new_value"
> print(d["key"])
> ```
> > [!abstract]+ Вывод:
> > ```py
> > new_value
> > ```

---
При попытке взять значение по несуществующему ключу происходит исключение KeyError: 
> [!example]+ Код
> ```py
> countries_and_capitals = {"Россия": "Москва", "США": "Вашингтон", "Франция": "Париж"}
> 
> print(countries_and_capitals["Сербия"])
> ```
> > [!abstract]+ Вывод:
> > ```
> > KeyError: 'Сербия'
> > ```

Для проверки существования ключа в словаре следует использовать уже известный нам оператор [[1. Множества|in]] :

> [!example]+ Код
> ```py
> countries_and_capitals = {"Россия": "Москва", "США": "Вашингтон", "Франция": "Париж"}
> 
> if "Сербия" in countries_and_capitals:
> 	 print(countries_and_capitals["Сербия"]) 
> else:
> 	 print("Страна пока не добавлена в словарь") 
> ```

По ключам в словаре можно пройти в цикле [[3. Цикл с переменной|for]] : 
> [!example]+ Код
> ```py
> countries_and_capitals = {"Россия": "Москва", "США": "Вашингтон", "Франция": "Париж"}
> 
> for country in countries_and_capitals: 
> 	 print(f"У страны {country} столица - {countries_and_capitals[country]}.") 
> ```
> > [!abstract]+ Вывод:
> > ```py
> > У страны Россия столица — Москва. 
> > У страны США столица — Вашингтон. 
> > У страны Франция столица — Париж. 
> > ```

---
## Задача

> [!question]+ Задача:
> Пусть с клавиатуры вводятся названия стран, каждая с новой строки. При вводе возможны повторы стран. Сигналом окончания ввода будет строка «СТОП». Необходимо вывести, в каких строках (начиная с 0) встречалась каждая из стран. 

Для решения задачи будем использовать словарь, в котором по ключам — названиям стран будем хранить список номеров строк, в которых эти страны встречались.

> [!example]+ Решение:
> ```py
> # создаём пустой словарь 
> countries = dict() 
> # вводим первую строку до цикла
> country = input() 
> # создаём счётчик номеров строк 
> str_number = 0 
> # продолжаем цикл, пока не введена строка «СТОП»
> while country != "СТОП":     
> # если введённой страны нет в словаре, создаём ключ и записываем по ключу список из одного номера строки     
> 	if country not in countries:         
> 		countries[country] = [str_number]
> 	# иначе добавляем в список по ключу новое значение номера строки 
> 	else: 
> 		countries[country].append(str_number) 
> 	# увеличиваем счётчик 
> 	str_number += 1 
> 	# вводим следующую строку 
> 	country = input() 
> # выводим название страны и полученные списки с новой строки 
> for country in countries: 
> 	print(f"{country}: {countries[country]}") 
> ```
> > [!note]+ Пример ввода:
> > ```py
> > США 
> > США
> > Россия 
> > Россия 
> > Россия 
> > Франция 
> > Сербия 
> > СТОП 
> > ```
>
> > [!abstract]+ Вывод:
> > ```py
> > США: [0, 1] 
> > Россия: [2, 3, 4] 
> > Франция: [5] 
> > Сербия: [6] 
> > ```

---
## Основные операции для словарей
==" len(d) "== - Возвращает количество ключей в словаре
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> print(len(d))
> ```
> > [!abstract]+ Вывод:
> > ```py
> > 3
> > ```

==" del d[key] "== - Удалить ключ из словаря. Если ключа нет, то вызывается исключение **KeyError**
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> del d["b"] 
> print(d)
> ```
> > [!abstract]+ Вывод:
> > ```py
> > {'a': 1, 'c': 3}
> > ```

==" dict.clear() "== - Удалить все ключи и значения в словаре
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> d.clear() 
> print(d) 
> ```
> > [!abstract]+ Вывод:
> > ```py
> > {}
> > ```

==" dict.copy() "== - Возвращает копию словаря

> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> d_new = d.copy() 
> print(d_new)
> ```
> > [!abstract]+ Вывод:
> > ```py
> > {'a': 1, 'b': 2, 'c': 3}
> > ```

==" dict.get(key, default) "== - Возвращает значение по ключу key. Если ключа нет, то возвращает значение default
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> print(d.get("b", "Ключа нет в словаре")) 
> print(d.get("e", "Ключа нет в словаре"))
> ```
> > [!abstract]+ Вывод:
> > ```py
> > 2
Ключа нет в словаре
> > ```

==" dict.items() "== - Возвращает итерируемый объект, состоящий из кортежей (ключ, значение) словаря
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> for key, value in d.items():
> 	print(key, value
> ```
> > [!abstract]+ Вывод:
> > ```py
> > a 1 
> > b 2 
> > c 3 
> > ```

==" dict.keys() "== - Возвращает итерируемый объект, состоящий из ключей словаря
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> for key in d.keys():
> 	print(key
> ```
> > [!abstract]+ Вывод:
> > ```py
> > a
> > b
> > c
> > ```

==" d.pop(key, default) "== - Возвращает значение по ключу key и удаляет его из словаря. Если ключа нет, то возвращает default
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> x = d.pop("a") 
> print(x)
> ```
> > [!abstract]+ Вывод:
> > ```py
> > 1
> > ```

==" dict.values() "== - Возвращает итерируемый объект, состоящий из значений словаря
> [!example]+ Код
> ```py
> d = {"a": 1, "b": 2, "c": 3} 
> for value in d.values():
> 	print(value)
> ```
> > [!abstract]+ Вывод:
> > ```py
> > 1
> > 2
> > 3
> > ```

---
## Метод  `setdefault()`
<mark style="background-color:#580297">" dict.setdefault( ключ, значение) "</mark> - Позволяет создать ключ словаря (если этот ключ не существует в этом словаре), а если указанный ключ существует, то этому ключу должно быть **задано или назначено значение по умолчанию**.

> [!bug]+ Без `setdefault()`
> Рассмотрим простую программу на Python, которая назначает новый ключ, если ключ не существует.
> ```python
> user_information = { "name" : "Anthony Udeagbala" , "age" : 15 }
> 
> # назначить новый ключ и соответствующее значение в виде списка с одним элементом, если этот ключ не существует
> 
>if "country" not in user_information:
>	user_information["country"] = ["Nigeria"]  
>	
  >print(user_information)
> ```
> > [!abstract]+ Output
> > ```py
> > {'name': 'Anthony Udeagbala', 'age': 15, 'country': ['Nigeria']}
> > ```

> [!success]+ С `setdefault()`
> Мы можем использовать этот метод для упрощения раннего примера кода
> > [!example]+ Code
> >```python
> > user_information = { "name" : "Anthony Udeagbala" , "age" : 15 } 
> > user_information.setdefault( "country" , [ "Nigeria" ])  
> >   
> > print (user_information)
> >```
> > > [!abstract]+ Output
> > >```py
> > > {'name': 'Anthony Udeagbala', 'age': 15, 'country': ['Nigeria']}
> > >```

---
# [[Основы Python/5. Множества, словарь/Задачи|Задачи для отработки]]














